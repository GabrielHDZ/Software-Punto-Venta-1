<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta name="theme-color" content="#442c2e"/>
        <!-- Windows Phone --> 
        <meta name="msapplication-navbutton-color" content="#442c2e"/> 
        <!-- iOS Safari --> 
        <meta name="apple-mobile-web-app-status-bar-style" content="#442c2e"> 

        <link rel="stylesheet" href="./css/styles.css">
        <title>Inicio</title>
    </head>
    <body>
        <noscript>Es necesario habilitar Javascript para ejecutarse correctamente la app.</noscript>
        <div id="app"></div>
        <div id="modal"></div>
        <p>parfo</p>
        <button id='send'type="button">clik return data to server</button>
        <script>
            const ajax=async(url,{method="POST",data})=>{
                return await fetch(url,{
                    method,
                    headers:{'Content-Type':'application/json'},
                    body:JSON.stringify(data)
                });
            }
            document.getElementById('send').addEventListener('click',
            function(e){
                e.preventDefault();
/*                 fetch('/api/ventas')
 */             ajax("/api/ventas",{method:"GET",})                
                .then(response=>response.json())
                .then(function(response){
                    response.forEach(element => {
                        document.getElementById('app').innerHTML=`
                            <p>${element.store_id}</p>
                            <p>${element.last_update}</p>
                        `;
                    });
                })
                .catch(function(error){
                    console.log(`Error in fetch data ${error}`)
                })

            })
            
        </script>
        <!--script-->
<!--         <script src="bundle.js"></script>
 -->    </body>
</html>